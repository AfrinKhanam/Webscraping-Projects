#activating conda enviorment
conda activate <enviorment_name>

systemctl status rabbitmq-server.service

# Creating rabbitmq user and password
sudo rabbitmqctl add_user webscrape webscrape

#list user 
sudo rabbitmqctl list_users

#Virtual Host
sudo rabbitmqctl add_vhost webscrape

#List Virtual Host
sudo rabbitmqctl list_vhosts

#Set permissions
sudo rabbitmqctl set_permissions -p webscrape webscrape ".*" ".*" ".*"


# Linking RabbitMq client code to individual module
cd <module>/building_blocks/
ln -s ../../Utils/MessageQueue/ MessageQueue


#elastic search check status
systemctl status elasticsearch.service 

#elastic search start
systemctl start elasticsearch.service


#postgres commands
1)connect to database - 
\connect DBNAME
2)psql -U username mydatabase 
3)

delete from public."LeadGenerationInfos"
where "QueriedOn" < now() - interval '2 days'





sudo -u postgres psql

DELETE from public."ChatLogs" t1
 WHERE t1."ConversationId" NOT IN (select "ConversationId" from  public."UserInfos") 


SELECT * from public."ChatLogs" t1
 WHERE t1."ConversationId" NOT IN (select "ConversationId" from  public."UserInfos")

select * from public."ChatLogs" t1
 inner join public."UserInfos" as t2
 on (t2."ConversationId" = t1."ConversationId")
















