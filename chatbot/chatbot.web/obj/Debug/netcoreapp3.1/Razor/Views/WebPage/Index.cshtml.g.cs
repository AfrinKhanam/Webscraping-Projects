#pragma checksum "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "9b4f73e7bc0cefcae757511f53d3e9c63e77560b"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_WebPage_Index), @"mvc.1.0.view", @"/Views/WebPage/Index.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/_ViewImports.cshtml"
using IndianBank_ChatBOT;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/_ViewImports.cshtml"
using IndianBank_ChatBOT.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/_ViewImports.cshtml"
using IndianBank_ChatBOT.ViewModel;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"9b4f73e7bc0cefcae757511f53d3e9c63e77560b", @"/Views/WebPage/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"1a7405cbc833fae39c0d58e8c9546f01e8fc5f2e", @"/Views/_ViewImports.cshtml")]
    public class Views_WebPage_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<WebPageViewModel>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 2 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
  
    ViewData["Title"] = "Index";

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
<div class=""section-header"">
    <div class=""col-lg-4 col-md-6 col-sm-6 col-12"">
        <h1>Web Scrape Config</h1>
    </div>
    <div class=""col-lg-2 col-md-6 col-sm-6 col-12""></div>
    <div class=""col-lg-2 col-md-6 col-sm-6 col-12""></div>

    <div class=""col-lg-2 col-md-6 col-sm-6 col-12"">
        <a id=""RescrapeAllPagesBtn""");
            BeginWriteAttribute("href", " href=\"", 394, "\"", 401, 0);
            EndWriteAttribute();
            WriteLiteral(@" class=""btn btn-icon icon-left btn-outline-warning toggle-modal-addAllWebPageModal""><i class=""fas fa-sync-alt""></i> Rescrape All Web Pages</a>
    </div>

    <div style=""display:none"" id=""AddNewWebPageBtn"" class=""col-lg-2 col-md-6 col-sm-6 col-12"">
        <a");
            BeginWriteAttribute("href", " href=\"", 662, "\"", 701, 1);
#nullable restore
#line 18 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
WriteAttributeValue("", 669, Url.Action("addnew", "webpage"), 669, 32, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" style=""float:right;"" class=""btn btn-icon icon-left btn-outline-primary""><i class=""fas fa-plus""></i>Add new web page</a>
    </div>

</div>

<div class=""section-body"">
    <div class=""row"">
        <div class=""col-12 col-md-12 col-lg-12"">
            <div style=""display:none"" id=""WeScrapeWarningDiv"">
            </div>

            <div class=""card"" style=""display:none"" id=""WebScrapeInProgressDiv"">
                <div class=""card-body"">
                    <div class=""alert alert-warning alert-has-icon"">
                        <div class=""alert-icon""><i class=""fas fa-exclamation-triangle""></i></div>
                        <div class=""alert-body"">
                            <div class=""alert-title"">Web Scraping is in progress.</div>
                            Please wait for the operation to complete.
                        </div>
                    </div>
                </div>
            </div>
            <div class=""card"" style=""display:none"" id=""WebScrapeConfigDiv"">
                <div class=""car");
            WriteLiteral(@"d-header"">
                    <h4>Pages</h4>
                    <div class=""card-stats"">
                        <div class=""card-stats-items"">
                            <div class=""card-stats-item"">
                                <div class=""card-stats-item-label"">Total Pages</div>
                                <div class=""card-stats-item-count"">");
#nullable restore
#line 47 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                                              Write(Model.WebScrapeConfigs.Count());

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</div>
                            </div>

                            <div class=""card-stats-item"">
                                <div class=""card-stats-item-label"">Inactive Pages</div>
                                <div class=""card-stats-item-count"">");
#nullable restore
#line 52 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                                              Write(Model.WebScrapeConfigs.Count(a => a.IsActive == false));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</div>
                            </div>

                            <div class=""card-stats-item"">
                                <div class=""card-stats-item-label"">Pending Requests</div>
                                <div class=""card-stats-item-count"">");
#nullable restore
#line 57 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                                              Write(Model.WebScrapeConfigs.Count(a => a.ScrapeStatus == ScrapeStatus.YetToScrape && a.IsActive));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</div>
                            </div>

                            <div class=""card-stats-item"">
                                <div class=""card-stats-item-label"">Successful Requests</div>
                                <div class=""card-stats-item-count"">");
#nullable restore
#line 62 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                                              Write(Model.WebScrapeConfigs.Count(a => a.ScrapeStatus == ScrapeStatus.ScrapeSuccess && a.IsActive));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</div>
                            </div>

                            <div class=""card-stats-item"">
                                <div class=""card-stats-item-label"">Failed Requests</div>
                                <div class=""card-stats-item-count"">");
#nullable restore
#line 67 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                                              Write(Model.WebScrapeConfigs.Count(a => a.ScrapeStatus == ScrapeStatus.ScrapeFailed && a.IsActive));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</div>
                            </div>

                        </div>
                    </div>
                </div>

                <div class=""card-body p-0"">
                    <div class=""table-responsive"">
                        <table class=""table table-striped table-md"">
                            <tbody>
                                <tr>
                                    <th width=""8%"" style=""text-align:right"">
                                        S No.
                                    </th>
                                    <th width=""23%"">
                                        Page Name
                                    </th>
                                    <th width=""30%"">
                                        Url
                                    </th>
                                    <th width=""30%"">
                                        Language
                                    </th>
                                    <th width=""13%"">
                ");
            WriteLiteral(@"                        Last Scraped
                                    </th>
                                    <th width=""2%"">
                                        Scraping Status
                                    </th>

                                    <th width=""1%"">
                                        Active
                                    </th>
                                    <th width=""8%"">
                                        Actions
                                    </th>
                                </tr>
");
#nullable restore
#line 105 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                  
                                    var index = 0;
                                

#line default
#line hidden
#nullable disable
#nullable restore
#line 108 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                 foreach (var item in Model.WebScrapeConfigs)
                                {
                                    {
                                        index += 1;
                                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <tr>\n                                        <td style=\"text-align:right\">");
#nullable restore
#line 114 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                                                Write(index);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n                                        <td style=\"font-size:small\">\n\n");
#nullable restore
#line 117 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                              
                                                var isLengthyPageName = false;
                                                var pageName = item.PageName;
                                                var shortPageName = pageName;

                                                if (!string.IsNullOrEmpty(pageName))
                                                {
                                                    if (pageName.Length > 65)
                                                    {
                                                        isLengthyPageName = true;
                                                        shortPageName = pageName.Substring(0, 58) + "...";
                                                    }
                                                }
                                            

#line default
#line hidden
#nullable disable
            WriteLiteral("\n                                            ");
#nullable restore
#line 132 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                       Write(shortPageName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\n");
#nullable restore
#line 133 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                             if (isLengthyPageName)
                                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                <a href=\"javascript:;\" data-toggle=\"popover\"");
            BeginWriteAttribute("title", " title=\"", 6761, "\"", 6769, 0);
            EndWriteAttribute();
            WriteLiteral(" data-content=\"");
#nullable restore
#line 135 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                                                                                               Write(item.PageName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-trigger=\"focus\" data-original-title=\"Page Name\">read more</a>\n");
#nullable restore
#line 136 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("\n                                        </td>\n                                        <td style=\"font-size:small\">\n");
#nullable restore
#line 140 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                              
                                                string reducedText = item.Url;
                                                string[] prefixArray = { "https://www.indianbank.in/", "https://indianbank.in/" };
                                                foreach (var prefix in prefixArray)
                                                {
                                                    reducedText = reducedText.Replace(prefix, "");
                                                }
                                            

#line default
#line hidden
#nullable disable
            WriteLiteral("                                            <a target=\"_blank\"");
            BeginWriteAttribute("href", " href=\"", 7678, "\"", 7694, 1);
#nullable restore
#line 148 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
WriteAttributeValue("", 7685, item.Url, 7685, 9, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">");
#nullable restore
#line 148 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                                                           Write(reducedText);

#line default
#line hidden
#nullable disable
            WriteLiteral("</a>\n                                        </td>\n\n                                        <td style=\"font-size:small\">\n                                            ");
#nullable restore
#line 152 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                       Write(item.WebPageLanguage.LanguageName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\n                                        </td>\n\n                                        <td style=\"font-size:smaller\">\n");
#nullable restore
#line 156 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                              
                                                var lastScrapedOn = item.LastScrapedOn.HasValue ? item.LastScrapedOn.Value.ToString("dd-MMM-yyyy") : "N/A";
                                            

#line default
#line hidden
#nullable disable
            WriteLiteral("                                            ");
#nullable restore
#line 159 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                       Write(lastScrapedOn);

#line default
#line hidden
#nullable disable
            WriteLiteral("\n                                        </td>\n                                        <td>\n");
#nullable restore
#line 162 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                              
                                                var status = item.GetEnumDescription();
                                                var statusClass = "badge-warning";
                                                switch (item.ScrapeStatus)
                                                {
                                                    case ScrapeStatus.YetToScrape:
                                                        statusClass = "badge-warning";
                                                        break;
                                                    case ScrapeStatus.ScrapeSuccess:
                                                        statusClass = "badge-success";
                                                        break;
                                                    case ScrapeStatus.ScrapeFailed:
                                                        statusClass = "badge-danger";
                                                        break;
                                                    default:
                                                        break;
                                                }

                                                if (item.ScrapeStatus == ScrapeStatus.ScrapeFailed)
                                                {
                                                    var className = "toggle-modal-WebPageErrorModal-" + item.Id;
                                                    var errorId = "toggle-modal-WebPageError-" + item.Id;


#line default
#line hidden
#nullable disable
            WriteLiteral("                                                    <input type=\"hidden\"");
            BeginWriteAttribute("id", " id=\"", 10086, "\"", 10099, 1);
#nullable restore
#line 185 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
WriteAttributeValue("", 10091, errorId, 10091, 8, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("value", " value=\"", 10100, "\"", 10126, 1);
#nullable restore
#line 185 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
WriteAttributeValue("", 10108, item.ErrorMessage, 10108, 18, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\n                                                    <div data-toggle=\"tooltip\"");
            BeginWriteAttribute("title", " title=\"", 10209, "\"", 10217, 0);
            EndWriteAttribute();
            WriteLiteral(" data-original-title=\"Click to view Error Message\" style=\"cursor:pointer\"");
            BeginWriteAttribute("class", " class=\"", 10291, "\"", 10328, 3);
            WriteAttributeValue("", 10299, "badge", 10299, 5, true);
#nullable restore
#line 186 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
WriteAttributeValue(" ", 10304, statusClass, 10305, 12, false);

#line default
#line hidden
#nullable disable
#nullable restore
#line 186 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
WriteAttributeValue(" ", 10317, className, 10318, 10, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">");
#nullable restore
#line 186 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                                                                                                                                                                                  Write(status);

#line default
#line hidden
#nullable disable
            WriteLiteral("</div>\n");
#nullable restore
#line 187 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                                }
                                                else
                                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                    <div");
            BeginWriteAttribute("class", " class=\"", 10553, "\"", 10579, 2);
            WriteAttributeValue("", 10561, "badge", 10561, 5, true);
#nullable restore
#line 190 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
WriteAttributeValue(" ", 10566, statusClass, 10567, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">");
#nullable restore
#line 190 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                                                               Write(status);

#line default
#line hidden
#nullable disable
            WriteLiteral("</div>\n");
#nullable restore
#line 191 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                                }
                                            

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        </td>\n                                        <td style=\"font-size:smaller\">\n");
#nullable restore
#line 195 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                              
                                                string isActive = (item.IsActive) ? "Yes" : "No";
                                            

#line default
#line hidden
#nullable disable
            WriteLiteral("                                            ");
#nullable restore
#line 198 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                       Write(isActive);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                                        </td>
                                        <td>
                                            <div class=""dropdown d-inline"">
                                                <button class=""btn btn-sm btn-outline-primary dropdown-toggle"" type=""button"" id=""dropdownmenubutton2"" data-toggle=""dropdown"" aria-haspopup=""true"" aria-expanded=""false"">
                                                    <i class=""fas fa-cog""></i>
                                                </button>
                                                <div class=""dropdown-menu"" x-placement=""bottom-start"" style=""position: absolute; transform: translate3d(0px, 28px, 0px); top: 0px; left: 0px; will-change: transform;"">
                                                    <a class=""dropdown-item has-icon""");
            BeginWriteAttribute("href", " href=\"", 11875, "\"", 11935, 1);
#nullable restore
#line 206 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
WriteAttributeValue("", 11882, Url.Action("Edit", "WebPage", new { pageId=item.Id}), 11882, 53, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("><i class=\"far fa-edit\"></i> Edit</a>\n                                                    <a");
            BeginWriteAttribute("onclick", " onclick=\"", 12028, "\"", 12069, 3);
            WriteAttributeValue("", 12038, "setcurrentWebPageId(\'", 12038, 21, true);
#nullable restore
#line 207 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
WriteAttributeValue("", 12059, item.Id, 12059, 8, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 12067, "\')", 12067, 2, true);
            EndWriteAttribute();
            WriteLiteral(" class=\"dropdown-item has-icon toggle-modal-reScrapePageRequest\" href=\"#\"><i class=\"fas fa-sync-alt\"></i> Rescrape</a>\n                                                    <a");
            BeginWriteAttribute("onclick", " onclick=\"", 12243, "\"", 12284, 3);
            WriteAttributeValue("", 12253, "setcurrentWebPageId(\'", 12253, 21, true);
#nullable restore
#line 208 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
WriteAttributeValue("", 12274, item.Id, 12274, 8, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 12282, "\')", 12282, 2, true);
            EndWriteAttribute();
            WriteLiteral(@" class=""dropdown-item has-icon toggle-modal-deleteWebPageModal"" href=""#""><i class=""far fa-times-circle""></i> Delete</a>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
");
#nullable restore
#line 213 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 214 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                 if (Model.WebScrapeConfigs.Length == 0)
                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <tr class=\"no-data\" style=\"text-align:center\">\n                                        <td colspan=\"7\">No data found !</td>\n                                    </tr>\n");
#nullable restore
#line 219 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                }

#line default
#line hidden
#nullable disable
            WriteLiteral("                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<input id=\"currentWebPageId\" type=\"hidden\"");
            BeginWriteAttribute("value", " value=\"", 13191, "\"", 13199, 0);
            EndWriteAttribute();
            WriteLiteral(" />\n\n<script type=\"text/javascript\">\n    var isFullWebScrapingInProgress = \"");
#nullable restore
#line 232 "/home/ashutosh/Desktop/WorkSpace/indian_bank_afrin_important/K-BOT/chatbot/chatbot.web/Views/WebPage/Index.cshtml"
                                  Write(Model.IsFullWebScrapingInProgress);

#line default
#line hidden
#nullable disable
            WriteLiteral(@""".toLowerCase() == ""true"" ? true : false;
    var fullScrapeCheckInterval;

    if (isFullWebScrapingInProgress) {
        pollFullScrapeStatusCheck();
    }

    function pollFullScrapeStatusCheck() {
        fullScrapeCheckInterval = setInterval(checkIsFullWebScrapingInProgress, 15000);
    }

    function checkIsFullWebScrapingInProgress() {
        var request = $.ajax({
            url: ""/WebPage/IsFullWebScrapingInProgress"",
            type: ""GET""
        });

        request.done(function (response) {
            isFullWebScrapingInProgress = response;
            if (response == false) {
                iziToast.success({
                    title: 'Done!',
                    position: 'topRight',
                    message: 'Web Page Scraping has been completed!',
                });
                enableScraping();
                stopFullScrapeCheckInterval();
            }
        });

        request.fail(function (jqXHR, textStatus) {
            console.log('Error occured while checking Scr");
            WriteLiteral(@"aping Status');
            console.log(jqXHR);
            isFullWebScrapingInProgress = true;
            stopFullScrapeCheckInterval();
        });
    }

    function stopFullScrapeCheckInterval() {
        clearInterval(fullScrapeCheckInterval);
    }

    $(document).ready(function () {

        if (isFullWebScrapingInProgress)
            disableScraping();
         else
            enableScraping();

        $('.toggle-modal-deleteWebPageModal').fireModal({
            title: 'Delete Web Page',
            body: 'Are you sure you want to delete this Web Page?',
            buttons: [
                {
                    text: 'Delete',
                    class: 'btn btn-outline-danger',
                    handler: deleteWebPage
                },
                {
                    text: 'No',
                    class: 'btn btn-outline-secondary',
                    handler: function (current_modal) {
                        $.destroyModal(current_modal);
                    }
                }");
            WriteLiteral(@"
            ]
        });

        var rescrapePageBody = '<div class=""alert alert-warning"">' +
            '<b>Note! </b> Re-scrape web page using this feature is recommended only if your page content is changed with the same structure.' +
            '</br> Rescrape of the web page will be happening in the background. Once it is completed, Status will be updated in the <b>Web scrape config</b> page.</div > ';

        $('.toggle-modal-addAllWebPageModal').fireModal({
            title: 'Request for Web Page Rescrape',
            body: rescrapePageBody + '<b>Are you sure you want to rescrape all the Web Pages?</b>',
            buttons: [
                {
                    text: 'Rescrape',
                    class: 'btn btn-outline-warning',
                    handler: rescrapeAllWebPages
                },
                {
                    text: 'Cancel',
                    class: 'btn btn-outline-secondary',
                    handler: function (current_modal) {
                        $.dest");
            WriteLiteral(@"royModal(current_modal);
                    }
                }
            ]
        });


        $('.toggle-modal-reScrapePageRequest').fireModal({
            title: 'Request for Web Page Rescrape',
            body: rescrapePageBody + '<b>Are you sure you want to rescrape this Web Page?</b>',
            buttons: [
                {
                    text: 'Rescrape',
                    class: 'btn btn-outline-warning',
                    handler: rescrapeWebPage
                },
                {
                    text: 'Cancel',
                    class: 'btn btn-outline-secondary',
                    handler: function (current_modal) {
                        $.destroyModal(current_modal);
                    }
                }
            ]
        });

        //Adding the Web page error popup modal
        var errorElements = $(""div[class*='toggle-modal-WebPageErrorModal']"");
        for (var i = 0; i < errorElements.length; i++) {
            var el = errorElements[i];
            var ");
            WriteLiteral(@"id = el.classList[2].split(""-"")[3];
            var errorMessage = $(""#toggle-modal-WebPageError-"" + id).val();
            $(el).fireModal({
                title: 'Web Page Scrape Error',
                body: '<code>' + errorMessage +'</code>',
                buttons: [
                    {
                        text: 'Close',
                        class: 'btn btn-outline-secondary',
                        handler: function (current_modal) {
                            $.destroyModal(current_modal);
                        }
                    }
                ]
            });
        }
    });

    var synonymDetails = {};
    var wordDetails = {};

    function setcurrentWebPageId(id) {
        $('#currentWebPageId').val(id);
    }

    function deleteWebPage() {
        var id = $('#currentWebPageId').val();

        var request = $.ajax({
            url: ""/WebPage/DeleteById?pageId="" + id,
            type: ""DELETE""
        });

        request.done(function (response) {
            iziToast");
            WriteLiteral(@".success({
                title: 'Done!',
                position: 'topRight',
                message: 'Web page deleted successfully.',
            });
            setTimeout(function () { window.location.reload(); }, 1000);
        });

        request.fail(function (jqXHR, textStatus) {
            request.fail(function (jqXHR, textStatus) {
                iziToast.error({
                    title: 'Error!',
                    position: 'topRight',
                    message: 'Failed to delete Web Page.',
                });
            });
        });
    }

    function enableScraping()
    {
        $(""#RescrapeAllPagesBtn"").show();
        $(""#WebScrapeInProgressDiv"").hide();
        $(""#WebScrapeConfigDiv"").show();
        $(""#AddNewWebPageBtn"").show();
    }

    function disableScraping()
    {
        $(""#RescrapeAllPagesBtn"").hide();
        $(""#WebScrapeInProgressDiv"").show();
        $(""#WebScrapeConfigDiv"").hide();
        $(""#AddNewWebPageBtn"").hide();
    }

    function rescrapeAllWeb");
            WriteLiteral(@"Pages(current_modal) {
        $.destroyModal(current_modal);

        disableScraping();

        var request = $.ajax({
            url: ""/WebPage/RescrapeAllPages"",
            type: ""POST""
        });

        request.done(function (response) {
            pollFullScrapeStatusCheck();
            iziToast.success({
                title: 'Done!',
                position: 'topRight',
                message: 'Web Page Scrape Request is queued successfully!',
            });
        });

        request.fail(function (jqXHR, textStatus) {
            enableScraping();
            iziToast.error({
                title: 'Error!',
                position: 'topRight',
                message: jqXHR.responseText,
            });
        });
    }

    function rescrapeWebPage(current_modal) {
        var warningHtml = '<div class=""alert alert-warning alert-dismissible show fade""> <div class=""alert-body"">' + '<button class=""close"" data-dismiss=""alert"">' +
            '<span>Ã—</span></button>' + 'Rescrape of th");
            WriteLiteral(@"e web page will be happening in the background. Please wait for couple of minutes to complete.!</div></div>';

        $(""#WeScrapeWarningDiv"").empty().append(warningHtml).show();

        var webPageId = $('#currentWebPageId').val();
        $.destroyModal(current_modal);

        var request = $.ajax({
            url: ""/WebPage/RescrapePage?pageId="" + webPageId,
            type: ""POST""
        });

        request.done(function (response) {
            pollFullScrapeStatusCheck();
            iziToast.success({
                title: 'Done!',
                position: 'topRight',
                message: 'Web Page Scrape Request is queued successfully!',
            });
        });

        request.fail(function (jqXHR, textStatus) {
            iziToast.error({
                title: 'Error!',
                position: 'topRight',
                message: jqXHR.responseText,
            });
        });
    }
</script>
");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<WebPageViewModel> Html { get; private set; }
    }
}
#pragma warning restore 1591
